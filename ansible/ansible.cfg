# ===========================================================
# â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”
# â”‚ H â”‚ â”‚ E â”‚ â”‚ T â”‚ â”‚ F â”‚ â”‚ S â”‚
# â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜
#
# ğŸŒ HETFS LTD. - Code for a Brighter Future
# https://github.com/hetfs/dotfiles
# Global ansible.cfg for dotfiles/ansible
# ===========================================================

[defaults]
# ---------------- PATHS ----------------
inventory               = ansible/inventories
roles_path              = ansible/roles
collections_paths       = ansible/collections
library                 = ansible/plugins/modules

filter_plugins          = ansible/plugins/filter
action_plugins          = ansible/plugins/action
lookup_plugins          = ansible/plugins/lookup
vars_plugins            = ansible/plugins/vars
callback_plugins        = ansible/plugins/callback
strategy_plugins        = ansible/plugins/strategy

remote_tmp              = ~/.ansible/tmp
local_tmp               = ~/.ansible/tmp/local

# ---------------- EXECUTION ----------------
forks                   = 20
pipelining              = true
timeout                 = 45
retry_files_enabled     = false
retry_files_save_path   = .retry/

any_errors_fatal        = false
max_fail_percentage     = 0
interpreter_python      = auto_silent

# ---------------- OUTPUT ----------------
stdout_callback         = yaml
bin_ansible_callbacks   = true
force_color             = true
display_skipped_hosts   = false
deprecation_warnings    = false
host_key_checking       = false
show_custom_stats       = true

[inventory]
cache                   = true
cache_plugin            = jsonfile
cache_timeout           = 3600
enable_plugins          = auto, yaml, ini, script, host_list
gathering               = smart
fact_caching            = jsonfile
fact_caching_connection = .cache/ansible/facts
fact_caching_timeout    = 7200

[privilege_escalation]
become                  = true
become_method           = sudo
become_user             = root
become_ask_pass         = false
become_flags            = -HE

[ssh_connection]
ssh_args                = -o ControlMaster=auto -o ControlPersist=60s -o ConnectTimeout=10
control_path_dir        = ~/.ssh/ansible
control_path            = %(control_path_dir)s/%%h-%%p-%%r
pipelining              = true
ssh_transfer_method     = piped

# Ensures compatibility across macOS, Ubuntu, Arch, and WSL.
control_master          = auto
control_persist         = 60s

[persistent_connection]
connect_timeout         = 30
command_timeout         = 60
connect_retry_timeout   = 15

[connection_winrm]
transport               = auto
kerberos                = false
read_timeout_sec        = 120
operation_timeout_sec   = 120
ca_trust_path           = ~/.config/ansible/certs
validate_certs          = true

[galaxy]
requirements_file       = requirements.yml
collections_paths       = ansible/collections
ignore_certs            = false

[colors]
highlight               = white
verbose                 = blue
warn                    = bright purple
error                   = red
debug                   = dark gray
skip                    = cyan
unreachable             = red
ok                      = green
changed                 = yellow

diff_add                = green
diff_remove             = red
diff_lines              = cyan
diff_context            = white
