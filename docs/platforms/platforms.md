---
id: platforms
title: üåê Cross-Platform Detection
description: How our framework adapts to Linux, macOS, and Windows systems automatically.
sidebar_position: 4
---

# üåê Cross-Platform Detection

One of the core strengths of this framework is its ability to detect and adapt to different platforms‚Äîwhether you‚Äôre on Linux, macOS, or Windows (native or WSL).

## üîé Platform Detection Strategy

The framework begins by identifying the operating system and adjusts behavior using platform-specific templates. It leverages `chezmoi`‚Äôs built-in templating along with external tools like `uname`, `lsb_release`, or PowerShell environment checks.

## üß≠ Platform Detection Flow

```mermaid
flowchart TD
    A[üîç Detect Host OS] --> B{OS Type}
    
    B --> |Linux| C[üêß Identify Distro]
    C --> D{Distro}
    D --> |Arch| D1[üõ†Ô∏è Use pacman + chezmoi.arch.tmpl]
    D --> |Debian/Ubuntu| D2[üõ†Ô∏è Use apt + chezmoi.debian.tmpl]
    D --> |Fedora| D3[üõ†Ô∏è Use dnf + chezmoi.fedora.tmpl]
    D --> |Other| D4[‚ö†Ô∏è Fallback: generic.sh]

    B --> |macOS| E[üçé Use Homebrew + chezmoi.darwin.tmpl]

    B --> |Windows| F{Environment}
    F --> |WSL| F1[ü™ü WSL: use apt + chezmoi.wsl.tmpl]
    F --> |Native| F2[ü™ü winget + PowerShell + chezmoi.windows.tmpl]

    B --> |Unknown| Z[‚ùå Unsupported Platform Warning]
````

## ‚úÖ Why This Matters

* Ensures the correct packages are installed for your platform.
* Prevents breaking changes across systems by applying the right templates.
* Streamlines provisioning and onboarding for contributors.

## üß∞ Templates in Use

| Platform      | Package Manager | Template               |
| ------------- | --------------- | ---------------------- |
| Arch Linux    | `pacman`        | `chezmoi.arch.tmpl`    |
| Ubuntu/Debian | `apt`           | `chezmoi.debian.tmpl`  |
| Fedora        | `dnf`           | `chezmoi.fedora.tmpl`  |
| macOS         | `brew`          | `chezmoi.darwin.tmpl`  |
| Windows       | `winget`        | `chezmoi.windows.tmpl` |
| WSL           | `apt`           | `chezmoi.wsl.tmpl`     |
| Other Linux   | manual fallback | `generic.sh`           |

---

For full source and logic, check the repository:
üîó [hetfs/dotfiles](https://github.com/hetfs/dotfiles)
